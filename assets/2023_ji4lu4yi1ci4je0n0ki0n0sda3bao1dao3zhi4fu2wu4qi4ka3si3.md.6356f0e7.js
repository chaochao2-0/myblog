import{_ as i,o as n,c as a,k as e,a as s}from"./chunks/framework.c5c8a48b.js";const b=JSON.parse('{"title":"jenkins同时打包多个项目导致服务器卡死","description":"","frontmatter":{},"headers":[],"relativePath":"2023/ji4lu4yi1ci4je0n0ki0n0sda3bao1dao3zhi4fu2wu4qi4ka3si3.md","filePath":"2023/ji4lu4yi1ci4je0n0ki0n0sda3bao1dao3zhi4fu2wu4qi4ka3si3.md","lastUpdated":null}'),l={name:"2023/ji4lu4yi1ci4je0n0ki0n0sda3bao1dao3zhi4fu2wu4qi4ka3si3.md"},t=e("h1",{id:"jenkins同时打包多个项目导致服务器卡死",tabindex:"-1"},[s("jenkins同时打包多个项目导致服务器卡死 "),e("a",{class:"header-anchor",href:"#jenkins同时打包多个项目导致服务器卡死","aria-label":'Permalink to "jenkins同时打包多个项目导致服务器卡死"'},"​")],-1),o=e("p",null,"2023/8/23 上午十点零六，因为同事使用jenkins打包多个项目导致服务器cpu占用达到百分百直接卡死。我前脚刚在上面操作了cad，刚用完，勇哥在群里说：官网崩了！然后我打开官网，页面加载不出来了，不是某个静态资源访问404，可以排查提交了错误代码打包导致的项目崩溃。然后尝试用xshell连接服务器看看情况，发现xshell连接不上了。这个时候已经知道是服务器出问题了，但是我没有公司的阿里云管理账户，勇哥又再和客户打电话沟通。找管理员账户、登录上去又花了一段时间，登录上去以后看到刚才服务器的cpu占用一直是百分百。然后服务器就自己好了，官网全程崩溃了将近二十分钟，妥妥的生产事故。",-1),c=e("p",null,"总结一下分析的过程：",-1),d=e("ul",null,[e("li",null,"打开官网查看页面的访问，是某个资源加载404，还是接口崩溃500，如果都不是，可能就是像我遇到的这种，服务器崩了"),e("li",null,"连接上服务器查看情况，用top命令查看cpu占用"),e("li",null,"查看nginx的访问日志，看看是不是异常访问"),e("li",null,"排查过程一定要思路清晰，速度要快，我还是第一次遇到这种情况，一般出现服务器崩溃的问题也是运维排查问题，但我们没有运维，自己就需要熟悉一些简单的问题定位操作")],-1),u=e("p",null,"最后：jenkins一定不要部署在生产环境的服务器上面，打包过程cpu的占用会很高，这次事件就是jenkins多个项目同时打包造成的！",-1),r=[t,o,c,d,u];function _(h,k,p,j,f,m){return n(),a("div",null,r)}const q=i(l,[["render",_]]);export{b as __pageData,q as default};
