# 接口请求

```dart
// 安装依赖
flutter pub add http

// 引入
import 'package:http/http.dart' as http;
```
使用`http.get()`方法从`JSONPlaceholder`上获取到一个样本相册数据。
这个`http.get()`方法会返回一个包含`Response`的`Future`。
- `Future`是Dart用来处理异步操作的一个核心类，它通常代表一个可能的值或者将来或许会用到的错误。
- `http.Response`类包含成功的http请求接收到的数据。

```dart
Future<http.Response> fetchAlbum() {
  return http.get(Uri.parse('https://jsonplaceholder.typicode.com/albums/1'));
}
```
封装数据模型？难度每次接口请求都需要先封装一个数据模型？

`json.encode()`
`json.decode()`方法需要引入`dart:convert`库。`json.decode()`方法会将`String`类型数据解析成`Map`数据结构。
```dart
import 'dart:async';
import 'dart:convert';
import 'package:http/http.dart' as http;

Future<dynamic> fetchData() async {
  var url = Uri.parse('https://jsonplaceholder.typicode.com/albums/1');
  final response = await http.get(url);

  if (response.statusCode == 200) {
    final data = json.decode(response.body);
    return data;
  } else {
    throw Exception('Failed to fetch data');
  }
}

void main() async {
  final data = await fetchData();
  print('响应数据');
  print(data);
}
```